<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="author" content="Jatin Chellani">
    <meta name="description" content="It is a simple personal web and I is noobest noob.">
    <title>Jxtin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/icomoon.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="shortcut icon" href="images/20190628_213840_0000.png">
</head>

<body>
    <div id="particles-js">
        <div class="main-content">
            <h1>Hey, this is Jatin! </h1>
            <p style="color: #FFFFFF;">FSD, jxtin</p>

            <div>
                <input type="text" class="search" placeholder="Search">
                <button type="submit" onclick="return search_data();">Search</button>
            </div>
            <table class="search-results" style="color: #FFFFFF; ">
                <p style="color: #FFFFFF; font-size: 12px; font-weight: bold;">Search Results</p>
            </table>

        </div>
        <script src="js/particles.js"></script>
        <script src="js/app.js"></script>
        <!-- trigger script on button press -->

        <script>
            async function search_data() {
                // get text input from the form
                // const jsonData = require("./hello.json")
                let response = await fetch("hello.json");
                let json_file = await response.json();
                console.log(json_file);
                var input = document.getElementsByClassName("search")[0].value;
                found = false;
                console.log(input);
                // length of json
                for (var k in json_file) {
                    // console.log(k);
                    // console.log(json_file[k]);
                    if (json_file[k].name.toLowerCase() == input) {
                        found = true;
                        // create table
                        document.getElementsByClassName('search-results')[0].innerHTML = "<tr><th>Name</th><th>Description</th><th>Value</th></tr>";
                        document.getElementsByClassName('search-results')[0].innerHTML += "<tr><td>" + json_file[k].name + "</td><td>" + json_file[k].description + "</td><td>" + json_file[k].value + "</td></tr>";
                        break;
                    }
                }
                if (!found) {
                    document.getElementsByClassName('search-results')[0].innerHTML = "Not found";
                }

            }
        </script>
</body>

</html>